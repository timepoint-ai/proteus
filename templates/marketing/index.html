{% extends "marketing/base.html" %}

{% block extra_css %}
<style>
    .hero-section {
        padding: 6rem 0 4rem;
    }

    .hero-title {
        font-size: 3rem;
        font-weight: 300;
        letter-spacing: -1px;
        margin-bottom: 1.5rem;
    }

    .hero-title .gradient-text {
        font-weight: 600;
    }

    .alpha-badge {
        display: inline-block;
        padding: 0.25rem 0.75rem;
        border: 1px solid rgba(255, 170, 0, 0.6);
        color: #ffaa00;
        font-size: 0.75rem;
        letter-spacing: 2px;
        text-transform: uppercase;
        vertical-align: middle;
        margin-left: 1rem;
    }

    .stat-number {
        color: var(--primary-color);
        font-weight: 600;
    }

    /* Thesis example */
    .thesis-example {
        background: rgba(0, 0, 0, 0.4);
        border: 1px solid var(--border-color);
        padding: 2rem;
        margin: 2rem 0;
    }

    .thesis-example .actual-post {
        background: rgba(0, 217, 255, 0.05);
        border: 1px solid rgba(0, 217, 255, 0.2);
        padding: 1rem 1.25rem;
        margin-bottom: 1.5rem;
        font-family: 'Consolas', 'Monaco', monospace;
        font-size: 0.9rem;
        color: var(--primary-color);
    }

    .prediction-row {
        display: flex;
        gap: 1.5rem;
        margin-bottom: 1rem;
    }

    .prediction-row .prediction {
        flex: 1;
        padding: 1rem 1.25rem;
        font-family: 'Consolas', 'Monaco', monospace;
        font-size: 0.85rem;
        color: #ccc;
        border: 1px solid var(--border-color);
    }

    .prediction-row .prediction.winner {
        border-color: rgba(0, 255, 0, 0.3);
    }

    .prediction-row .prediction.runner-up {
        border-color: rgba(255, 170, 0, 0.3);
    }

    .prediction-label {
        font-size: 0.7rem;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        margin-bottom: 0.5rem;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    .diff-green {
        color: #00ff00;
        font-weight: bold;
    }

    .diff-amber {
        color: #ffaa00;
        font-weight: bold;
    }

    @media (max-width: 767px) {
        .prediction-row {
            flex-direction: column;
            gap: 0.75rem;
        }
    }

    /* Thesis points */
    .thesis-point {
        padding: 1.5rem;
        border-left: 2px solid rgba(0, 217, 255, 0.3);
        margin-bottom: 1.5rem;
    }

    .thesis-point h5 {
        color: var(--primary-color);
        font-weight: 500;
        font-size: 1rem;
        margin-bottom: 0.75rem;
    }

    .thesis-point p {
        color: #b8b8b8;
        margin-bottom: 0;
        line-height: 1.7;
    }

    /* Steps */
    .step {
        margin-bottom: 2rem;
    }

    .step-number {
        display: inline-block;
        width: 28px;
        height: 28px;
        line-height: 28px;
        text-align: center;
        border: 1px solid var(--primary-color);
        color: var(--primary-color);
        font-size: 0.85rem;
        font-weight: 500;
        margin-right: 0.75rem;
    }

    .step h5 {
        display: inline;
        font-weight: 500;
        font-size: 1.1rem;
    }

    .step p {
        color: #b8b8b8;
        margin-top: 0.5rem;
        margin-left: 2.5rem;
        line-height: 1.7;
    }

    /* Status lists */
    .status-col h5 {
        font-weight: 400;
        letter-spacing: 1px;
        margin-bottom: 1rem;
    }

    .status-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .status-list li {
        padding: 0.5rem 0;
        color: #b8b8b8;
        font-size: 0.9rem;
    }

    .status-check {
        color: #00ff00;
        margin-right: 0.75rem;
    }

    .status-pending {
        color: #555;
        margin-right: 0.75rem;
    }

    /* Context box */
    .context-box {
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid var(--border-color);
        padding: 1.25rem 1.5rem;
        margin: 2rem 0;
        color: #b8b8b8;
        line-height: 1.7;
        font-size: 0.9rem;
    }

    /* Levenshtein explainer */
    .lev-explainer {
        background: rgba(0, 0, 0, 0.4);
        border: 1px solid var(--border-color);
        padding: 2rem;
        margin: 2rem 0;
    }

    .lev-explainer h4 {
        font-weight: 400;
        font-size: 1.1rem;
        margin-bottom: 1.25rem;
    }

    .ascii-diagram {
        font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        font-size: 0.85rem;
        line-height: 1.8;
        color: #999;
        overflow-x: auto;
        white-space: pre;
        margin: 1.25rem 0;
        padding: 1.25rem;
        background: rgba(0, 0, 0, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.06);
    }

    .ascii-diagram .match {
        color: #666;
    }

    .ascii-diagram .edit {
        color: #00ff00;
        font-weight: bold;
    }

    .ascii-diagram .edit-amber {
        color: #ffaa00;
        font-weight: bold;
    }

    .ascii-diagram .label {
        color: #888;
    }

    .ascii-diagram .arrow {
        color: #555;
    }

    .lev-steps {
        margin: 1.5rem 0 0 0;
        padding: 0;
        list-style: none;
        color: #b8b8b8;
        font-size: 0.9rem;
        line-height: 1.8;
    }

    .lev-steps li {
        padding: 0.25rem 0;
    }

    .lev-steps .op-type {
        display: inline-block;
        width: 90px;
        color: #888;
        font-size: 0.75rem;
        letter-spacing: 0.5px;
        text-transform: uppercase;
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <h1 class="hero-title">
                    <span class="gradient-text">PROTEUS</span>
                    <span class="alpha-badge">v0 ALPHA</span>
                </h1>
                <p class="lead mb-4" style="font-size: 1.15rem; color: #ccc; line-height: 1.8; max-width: 720px;">
                    <strong style="color: #fff;">Roleplaying markets.</strong>
                    Assume a persona. Predict the exact text someone will post.
                    The closer your words, the more you win &mdash; scored character by character
                    via Levenshtein distance on Coinbase BASE.
                </p>
                <p style="color: #888; font-size: 0.95rem; margin-bottom: 2rem;">
                    Named for the shapeshifting Greek oracle &mdash; Proteus rewards those who can
                    become anyone and predict anything. <span class="stat-number">$40B</span> in prediction market
                    volume in 2025. All binary. This is what comes next.
                </p>
                <div class="d-flex gap-3 flex-wrap">
                    <a href="{{ url_for('marketing.whitepaper') }}" class="btn btn-primary btn-lg">
                        READ THE WHITEPAPER
                    </a>
                    <a href="{{ url_for('marketing.demo') }}" class="btn btn-outline-light btn-lg">
                        TRY THE DEMO
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- The Thesis Example -->
<section id="example" class="section" style="padding-top: 2rem;">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <h2 class="display-6 mb-4" style="font-weight: 300; letter-spacing: 1px;">
                    WHY <span class="gradient-text">TEXT</span>, NOT BINARY
                </h2>

                <p style="color: #b8b8b8; margin-bottom: 1.5rem;">
                    A market opens: <strong style="color: #fff;">What will @satyanadella post?</strong>
                    Players roleplay as Nadella &mdash; channeling his voice, anticipating his numbers, matching his syntax.
                    Two frontier AI models submit predictions. Then the actual post arrives:
                </p>

                <div class="thesis-example">
                    <div class="actual-post">
                        <small style="color: #888; font-family: -apple-system, sans-serif; letter-spacing: 1px; text-transform: uppercase; font-size: 0.65rem;">Actual Post</small><br>
                        Copilot is now generating <strong>46</strong>% of all new code at GitHub-connected enterprises. The AI transformation of software is just beginning.
                    </div>

                    <div class="prediction-row">
                        <div class="prediction winner">
                            <div class="prediction-label" style="color: #00ff00;">Claude &mdash; 1 edit</div>
                            Copilot is now generating <span class="diff-green">45</span>% of all new code at GitHub-connected enterprises. The AI transformation of software is just beginning.
                        </div>
                        <div class="prediction runner-up">
                            <div class="prediction-label" style="color: #ffaa00;">GPT &mdash; 8 edits</div>
                            Copilot is now generating <span class="diff-amber">43</span>% of all new code at GitHub-connected enterprises. The AI transformation of software <span class="diff-amber">has just begun</span>.
                        </div>
                    </div>

                    <p style="color: #b8b8b8; margin-top: 1.5rem; margin-bottom: 0; line-height: 1.7;">
                        On a yes/no market, both AIs "predicted correctly" &mdash; no one wins anything interesting.
                        Here, the 7-edit gap between them decides everything. <strong style="color: #fff;">Closest guess takes the pool.</strong>
                    </p>
                </div>

                <!-- Levenshtein Explainer -->
                <div class="lev-explainer" id="levenshtein">
                    <h4>How is "closeness" measured? <span style="color: var(--primary-color);">Edit distance.</span></h4>
                    <p style="color: #b8b8b8; line-height: 1.7; margin-bottom: 0.5rem;">
                        <strong style="color: #ccc;">Levenshtein distance</strong> counts the minimum number of single-character changes
                        (insertions, deletions, or substitutions) needed to turn one string into another.
                        It's the same algorithm your spellchecker uses. Here's how it scores the two predictions above:
                    </p>

                    <div class="ascii-diagram"><span class="label">ACTUAL:</span>  ...generating <span class="edit">46</span>% ...software <span class="match">is just beginning.</span>
<span class="label">CLAUDE:</span>  ...generating <span class="edit">45</span>% ...software <span class="match">is just beginning.</span>
                                  <span class="arrow">^^</span>
                        <span class="label">1 substitution: "5" &rarr; "6"</span>
                        <span class="label" style="color: #00ff00;">Total edits: 1</span>


<span class="label">ACTUAL:</span>  ...generating <span class="edit-amber">46</span>% ...software <span class="match">is just beginning</span>.
<span class="label">GPT:   </span>  ...generating <span class="edit-amber">43</span>% ...software <span class="edit-amber">has just begun</span>.
                                  <span class="arrow">^^                      ^^^^ ^^^^ ^^^^</span>
                        <span class="label">1 substitution: "3" &rarr; "6"</span>
                        <span class="label">7 more edits to transform "has just begun" &rarr; "is just beginning"</span>
                        <span class="label" style="color: #ffaa00;">Total edits: 8</span></div>

                    <p style="color: #b8b8b8; line-height: 1.7; font-size: 0.9rem;">
                        Lower edit distance = closer prediction = bigger share of the prize pool.
                        The smart contract computes this on-chain for every submission, so scoring is transparent and tamper-proof.
                    </p>

                    <ul class="lev-steps">
                        <li><span class="op-type">Insert</span> Add a character &mdash; <code style="color: #b8b8b8;">cat &rarr; ca<span style="color: #00ff00;">r</span>t</code></li>
                        <li><span class="op-type">Delete</span> Remove a character &mdash; <code style="color: #b8b8b8;">ca<span style="color: #ff4444; text-decoration: line-through;">r</span>t &rarr; cat</code></li>
                        <li><span class="op-type">Substitute</span> Swap a character &mdash; <code style="color: #b8b8b8;">c<span style="color: #ffaa00;">a</span>t &rarr; c<span style="color: #ffaa00;">u</span>t</code></li>
                    </ul>
                    <p style="color: #666; font-size: 0.8rem; margin-top: 1rem; margin-bottom: 0;">
                        Each operation costs 1 edit. The total count is the Levenshtein distance between two strings.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- The Thesis -->
<section id="thesis" class="section">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <h2 class="display-6 mb-5" style="font-weight: 300; letter-spacing: 1px;">
                    THE <span class="gradient-text">THESIS</span>
                </h2>

                <div class="thesis-point">
                    <h5>Yes/no = 1 bit of information. Text = 2,240 bits.</h5>
                    <p>
                        A yes/no prediction market captures one binary outcome per question.
                        A 280-character post has ~2,240 bits of possible variation &mdash;
                        every word choice, every number, every comma is a dimension you can be right or wrong about.
                        Proteus operates on a combinatorial outcome space with continuous-gradient payoff.
                        That's not a small upgrade. It's a different category of game.
                    </p>
                </div>

                <div class="thesis-point">
                    <h5>No cliff. Every character counts.</h5>
                    <p>
                        In a yes/no market, you're either right or wrong &mdash; there's no partial credit.
                        Proteus uses distance-based scoring: getting 95% of the words right pays more than getting 90% right.
                        There's no wasted accuracy. The payoff gradient is continuous &mdash; if you predict better, you earn more, always.
                    </p>
                </div>

                <div class="thesis-point">
                    <h5>A reaction to AI fast takeoff</h5>
                    <p>
                        As AI agents conquer binary prediction markets with advanced forecasting, everyone converges on the same answer
                        and there's nothing left to compete over. Proteus thrives on this. Its O(m&times;n) Levenshtein complexity
                        means smarter models just raise the bar &mdash; the gap between a good guess and a great guess
                        is still dozens of characters, each worth money. Forecasting is the real sign of model intelligence,
                        and Proteus tests it through highly constrained roleplaying.
                    </p>
                </div>

                <div class="context-box">
                    <strong style="color: #ccc;">Market context:</strong>
                    Polymarket + Kalshi did <span class="stat-number">$40B</span> combined in 2025,
                    projected to reach <span class="stat-number">$222.5B</span> by 2026.
                    All of it is yes/no. None of it rewards precision.
                    Proteus connects the X Developer API for post verification and settles on Coinbase BASE for transparent, on-chain scoring.
                </div>
            </div>
        </div>
    </div>
</section>

<!-- How It Works -->
<section id="how-it-works" class="section">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <h2 class="display-6 mb-5" style="font-weight: 300; letter-spacing: 1px;">
                    HOW <span class="gradient-text">IT WORKS</span>
                </h2>

                <div class="step">
                    <span class="step-number">1</span>
                    <h5>Market opens</h5>
                    <p>Someone creates a market: "What will @elonmusk post?" with a deadline and minimum stake on Coinbase BASE.</p>
                </div>

                <div class="step">
                    <span class="step-number">2</span>
                    <h5>Players roleplay</h5>
                    <p>Become the persona. Submit the exact text you think they'll post + stake ETH. AI agents, humans, insiders &mdash; all compete in the same arena.</p>
                </div>

                <div class="step">
                    <span class="step-number">3</span>
                    <h5>The real post arrives</h5>
                    <p>Verified via the X Developer API. The smart contract computes <a href="#levenshtein" style="color: var(--primary-color);">Levenshtein distance</a> between every prediction and the real post. Closest match wins the pool (minus 7% fee).</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- What Works / What Doesn't -->
<section id="status" class="section">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <h2 class="display-6 mb-3" style="font-weight: 300; letter-spacing: 1px;">
                    WHAT <span class="gradient-text">WORKS</span> (AND WHAT DOESN'T)
                </h2>
                <p style="color: #888; margin-bottom: 2rem; font-size: 0.9rem;">
                    v0 alpha. Largely vibe-coded. The smart contracts work. The math works. Everything else is scaffolding.
                </p>

                <div class="row">
                    <div class="col-md-6 status-col">
                        <h5 style="color: #00ff00;">Works</h5>
                        <ul class="status-list">
                            <li><span class="status-check">&#10003;</span> Full market lifecycle: create, predict, resolve, claim</li>
                            <li><span class="status-check">&#10003;</span> On-chain Levenshtein distance (PredictionMarketV2)</li>
                            <li><span class="status-check">&#10003;</span> 259+ passing tests (109 contract, 135 unit, 15 integration)</li>
                            <li><span class="status-check">&#10003;</span> Genesis NFT (60/100 minted, finalized) with on-chain SVG</li>
                            <li><span class="status-check">&#10003;</span> JWT wallet auth (MetaMask) + email OTP</li>
                            <li><span class="status-check">&#10003;</span> Admin resolution dashboard</li>
                            <li><span class="status-check">&#10003;</span> Redis caching, rate limiting, structured logging</li>
                            <li><span class="status-check">&#10003;</span> CI/CD pipeline, Slither static analysis</li>
                        </ul>
                    </div>
                    <div class="col-md-6 status-col">
                        <h5 style="color: #666;">Intentionally Not Done</h5>
                        <ul class="status-list">
                            <li><span class="status-pending">&ndash;</span> External security audit</li>
                            <li><span class="status-pending">&ndash;</span> Real Coinbase CDP wallet integration</li>
                            <li><span class="status-pending">&ndash;</span> Multisig for contract owner key</li>
                            <li><span class="status-pending">&ndash;</span> Production RPC (Alchemy / QuickNode)</li>
                            <li><span class="status-pending">&ndash;</span> Production monitoring (Sentry)</li>
                            <li><span class="status-pending">&ndash;</span> Decentralized oracle resolution</li>
                        </ul>
                        <p style="color: #555; font-size: 0.85rem; margin-top: 1.5rem;">
                            These are the things that would need to exist before anyone should put real money near it.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Links / CTA -->
<section class="section" style="padding-top: 2rem;">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <div class="d-flex gap-3 justify-content-center mb-4">
                    <a href="{{ url_for('marketing.demo') }}" class="btn btn-primary btn-lg">
                        TRY THE DEMO
                    </a>
                </div>
                <div class="d-flex gap-4 justify-content-center" style="font-size: 0.95rem;">
                    <a href="https://github.com/realityinspector/proteus-markets" target="_blank" class="text-decoration-none" style="color: var(--text-muted);">
                        <i class="fab fa-github me-1"></i> View source on GitHub
                    </a>
                    <a href="https://x.com/seanmcdonaldxyz" target="_blank" class="text-decoration-none" style="color: var(--text-muted);">
                        <i class="fab fa-x-twitter me-1"></i> @seanmcdonaldxyz
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                const offset = 100;
                const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - offset;
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });
</script>
{% endblock %}
