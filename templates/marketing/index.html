{% extends "marketing/base.html" %}

{% block extra_css %}
<style>
    .hero-section {
        padding: 6rem 0 4rem;
    }

    .hero-title {
        font-size: 3rem;
        font-weight: 300;
        letter-spacing: -1px;
        margin-bottom: 1.5rem;
    }

    .hero-title .gradient-text {
        font-weight: 600;
    }

    .alpha-badge {
        display: inline-block;
        padding: 0.25rem 0.75rem;
        border: 1px solid rgba(255, 170, 0, 0.6);
        color: #ffaa00;
        font-size: 0.75rem;
        letter-spacing: 2px;
        text-transform: uppercase;
        vertical-align: middle;
        margin-left: 1rem;
    }

    .stat-number {
        color: var(--primary-color);
        font-weight: 600;
    }

    /* Thesis example */
    .thesis-example {
        background: rgba(0, 0, 0, 0.4);
        border: 1px solid var(--border-color);
        padding: 2rem;
        margin: 2rem 0;
    }

    .thesis-example .actual-post {
        background: rgba(0, 217, 255, 0.05);
        border: 1px solid rgba(0, 217, 255, 0.2);
        padding: 1rem 1.25rem;
        margin-bottom: 1.5rem;
        font-family: 'Consolas', 'Monaco', monospace;
        font-size: 0.9rem;
        color: var(--primary-color);
    }

    .prediction-row {
        display: flex;
        gap: 1.5rem;
        margin-bottom: 1rem;
    }

    .prediction-row .prediction {
        flex: 1;
        padding: 1rem 1.25rem;
        font-family: 'Consolas', 'Monaco', monospace;
        font-size: 0.85rem;
        color: #ccc;
        border: 1px solid var(--border-color);
    }

    .prediction-row .prediction.winner {
        border-color: rgba(0, 255, 0, 0.3);
    }

    .prediction-row .prediction.runner-up {
        border-color: rgba(255, 170, 0, 0.3);
    }

    .prediction-label {
        font-size: 0.7rem;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        margin-bottom: 0.5rem;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    .diff-green {
        color: #00ff00;
        font-weight: bold;
    }

    .diff-amber {
        color: #ffaa00;
        font-weight: bold;
    }

    @media (max-width: 767px) {
        .prediction-row {
            flex-direction: column;
            gap: 0.75rem;
        }
    }

    /* Thesis points */
    .thesis-point {
        padding: 1.5rem;
        border-left: 2px solid rgba(0, 217, 255, 0.3);
        margin-bottom: 1.5rem;
    }

    .thesis-point h5 {
        color: var(--primary-color);
        font-weight: 500;
        font-size: 1rem;
        margin-bottom: 0.75rem;
    }

    .thesis-point p {
        color: #b8b8b8;
        margin-bottom: 0;
        line-height: 1.7;
    }

    /* Steps */
    .step {
        margin-bottom: 2rem;
    }

    .step-number {
        display: inline-block;
        width: 28px;
        height: 28px;
        line-height: 28px;
        text-align: center;
        border: 1px solid var(--primary-color);
        color: var(--primary-color);
        font-size: 0.85rem;
        font-weight: 500;
        margin-right: 0.75rem;
    }

    .step h5 {
        display: inline;
        font-weight: 500;
        font-size: 1.1rem;
    }

    .step p {
        color: #b8b8b8;
        margin-top: 0.5rem;
        margin-left: 2.5rem;
        line-height: 1.7;
    }

    /* Status lists */
    .status-col h5 {
        font-weight: 400;
        letter-spacing: 1px;
        margin-bottom: 1rem;
    }

    .status-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .status-list li {
        padding: 0.5rem 0;
        color: #b8b8b8;
        font-size: 0.9rem;
    }

    .status-check {
        color: #00ff00;
        margin-right: 0.75rem;
    }

    .status-pending {
        color: #555;
        margin-right: 0.75rem;
    }

    /* Context box */
    .context-box {
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid var(--border-color);
        padding: 1.25rem 1.5rem;
        margin: 2rem 0;
        color: #b8b8b8;
        line-height: 1.7;
        font-size: 0.9rem;
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <h1 class="hero-title">
                    <span class="gradient-text">CLOCKCHAIN</span>
                    <span class="alpha-badge">v0 ALPHA</span>
                </h1>
                <p class="lead mb-4" style="font-size: 1.15rem; color: #ccc; line-height: 1.8; max-width: 720px;">
                    Stake ETH on the exact text a public figure will post. Winners determined by on-chain Levenshtein distance.
                    A research prototype exploring why text prediction is a fundamentally different market structure than binary yes/no.
                </p>
                <p style="color: #888; font-size: 0.95rem; margin-bottom: 2rem;">
                    <span class="stat-number">$40B</span> in prediction market volume in 2025. All binary.
                    This prototype explores what comes next.
                </p>
                <div class="d-flex gap-3 flex-wrap">
                    <a href="{{ url_for('marketing.whitepaper') }}" class="btn btn-primary btn-lg">
                        READ THE WHITEPAPER
                    </a>
                    <a href="{{ url_for('marketing.demo') }}" class="btn btn-outline-light btn-lg">
                        TRY THE DEMO
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- The Thesis Example -->
<section id="example" class="section" style="padding-top: 2rem;">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <h2 class="display-6 mb-4" style="font-weight: 300; letter-spacing: 1px;">
                    WHY <span class="gradient-text">TEXT</span>, NOT BINARY
                </h2>

                <p style="color: #b8b8b8; margin-bottom: 1.5rem;">
                    A market opens: <strong style="color: #fff;">What will @satyanadella post?</strong>
                    Two frontier AI models and a human submit predictions. Then the actual post arrives:
                </p>

                <div class="thesis-example">
                    <div class="actual-post">
                        <small style="color: #888; font-family: -apple-system, sans-serif; letter-spacing: 1px; text-transform: uppercase; font-size: 0.65rem;">Actual Post</small><br>
                        Copilot is now generating <strong>46</strong>% of all new code at GitHub-connected enterprises. The AI transformation of software is just beginning.
                    </div>

                    <div class="prediction-row">
                        <div class="prediction winner">
                            <div class="prediction-label" style="color: #00ff00;">Claude &mdash; 1 edit</div>
                            Copilot is now generating <span class="diff-green">45</span>% of all new code at GitHub-connected enterprises. The AI transformation of software is just beginning.
                        </div>
                        <div class="prediction runner-up">
                            <div class="prediction-label" style="color: #ffaa00;">GPT &mdash; 8 edits</div>
                            Copilot is now generating <span class="diff-amber">43</span>% of all new code at GitHub-connected enterprises. The AI transformation of software <span class="diff-amber">has just begun</span>.
                        </div>
                    </div>

                    <p style="color: #b8b8b8; margin-top: 1.5rem; margin-bottom: 0; line-height: 1.7;">
                        A binary market splits nothing &mdash; both AIs "predicted correctly."
                        Levenshtein rewards the 7-edit gap. <strong style="color: #fff;">Winner takes the pool.</strong>
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- The Thesis -->
<section id="thesis" class="section">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <h2 class="display-6 mb-5" style="font-weight: 300; letter-spacing: 1px;">
                    THE <span class="gradient-text">THESIS</span>
                </h2>

                <div class="thesis-point">
                    <h5>Binary = 1 bit. Text = 2,240 bits.</h5>
                    <p>
                        A binary prediction market encodes exactly one bit of information per contract.
                        A 280-character post over a 256-symbol alphabet encodes ~2,240 bits.
                        The information density per market scales as O(<em>n</em> log|alphabet|) versus O(1) for yes/no.
                        That's not an incremental improvement &mdash; it's a different category of instrument.
                    </p>
                </div>

                <div class="thesis-point">
                    <h5>Levenshtein distance: continuous payoffs</h5>
                    <p>
                        Levenshtein distance induces a proper metric on the outcome space.
                        Payoffs aren't a binary cliff but a continuous gradient &mdash; every character of precision is rewarded.
                        Marginal improvements in language modeling always translate to marginal improvements in expected payout.
                        No wasted accuracy.
                    </p>
                </div>

                <div class="thesis-point">
                    <h5>AI makes the game deeper, not shallower</h5>
                    <p>
                        Binary markets commoditize as models converge &mdash; everyone says 87% yes and the spread vanishes.
                        In text prediction, the gap between the 99th and 99.9th percentile language model is still dozens of edit operations, each worth money.
                        The AI capability explosion doesn't destroy the game. It deepens it.
                    </p>
                </div>

                <div class="context-box">
                    <strong style="color: #ccc;">Market context:</strong>
                    Polymarket + Kalshi: <span class="stat-number">$40B</span> combined in 2025.
                    <span class="stat-number">$222.5B</span> projected for 2026.
                    Neither supports text prediction. Neither scores on a continuous distance metric.
                    Meanwhile, X API now offers pay-per-use access, making multi-oracle post verification economically viable.
                </div>
            </div>
        </div>
    </div>
</section>

<!-- How It Works -->
<section id="how-it-works" class="section">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <h2 class="display-6 mb-5" style="font-weight: 300; letter-spacing: 1px;">
                    HOW <span class="gradient-text">IT WORKS</span>
                </h2>

                <div class="step">
                    <span class="step-number">1</span>
                    <h5>Market opens</h5>
                    <p>Someone creates a market: "What will @elonmusk post?" with a deadline and minimum stake.</p>
                </div>

                <div class="step">
                    <span class="step-number">2</span>
                    <h5>Participants predict</h5>
                    <p>Submit exact text predictions + stake ETH. AI roleplayers, insiders, humans all compete.</p>
                </div>

                <div class="step">
                    <span class="step-number">3</span>
                    <h5>Oracle resolves</h5>
                    <p>Actual text submitted. On-chain Levenshtein distance scores every submission. Closest match wins the pool (minus 7% fee).</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- What Works / What Doesn't -->
<section id="status" class="section">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <h2 class="display-6 mb-3" style="font-weight: 300; letter-spacing: 1px;">
                    WHAT <span class="gradient-text">WORKS</span> (AND WHAT DOESN'T)
                </h2>
                <p style="color: #888; margin-bottom: 2rem; font-size: 0.9rem;">
                    v0 alpha. Largely vibe-coded. The smart contracts work. The math works. Everything else is scaffolding.
                </p>

                <div class="row">
                    <div class="col-md-6 status-col">
                        <h5 style="color: #00ff00;">Works</h5>
                        <ul class="status-list">
                            <li><span class="status-check">&#10003;</span> Full market lifecycle: create, predict, resolve, claim</li>
                            <li><span class="status-check">&#10003;</span> On-chain Levenshtein distance (PredictionMarketV2)</li>
                            <li><span class="status-check">&#10003;</span> 259+ passing tests (109 contract, 135 unit, 15 integration)</li>
                            <li><span class="status-check">&#10003;</span> Genesis NFT (60/100 minted, finalized) with on-chain SVG</li>
                            <li><span class="status-check">&#10003;</span> JWT wallet auth (MetaMask) + email OTP</li>
                            <li><span class="status-check">&#10003;</span> Admin resolution dashboard</li>
                            <li><span class="status-check">&#10003;</span> Redis caching, rate limiting, structured logging</li>
                            <li><span class="status-check">&#10003;</span> CI/CD pipeline, Slither static analysis</li>
                        </ul>
                    </div>
                    <div class="col-md-6 status-col">
                        <h5 style="color: #666;">Intentionally Not Done</h5>
                        <ul class="status-list">
                            <li><span class="status-pending">&ndash;</span> External security audit</li>
                            <li><span class="status-pending">&ndash;</span> Real Coinbase CDP wallet integration</li>
                            <li><span class="status-pending">&ndash;</span> Multisig for contract owner key</li>
                            <li><span class="status-pending">&ndash;</span> Production RPC (Alchemy / QuickNode)</li>
                            <li><span class="status-pending">&ndash;</span> Production monitoring (Sentry)</li>
                            <li><span class="status-pending">&ndash;</span> Decentralized oracle resolution</li>
                        </ul>
                        <p style="color: #555; font-size: 0.85rem; margin-top: 1.5rem;">
                            These are the things that would need to exist before anyone should put real money near it.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Links / CTA -->
<section class="section" style="padding-top: 2rem;">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <div class="d-flex gap-3 justify-content-center mb-4">
                    <a href="{{ url_for('marketing.demo') }}" class="btn btn-primary btn-lg">
                        TRY THE DEMO
                    </a>
                </div>
                <div class="d-flex gap-4 justify-content-center" style="font-size: 0.95rem;">
                    <a href="https://github.com/seanmcdonald/clockchain-prediction-market" target="_blank" class="text-decoration-none" style="color: var(--text-muted);">
                        <i class="fab fa-github me-1"></i> View source on GitHub
                    </a>
                    <a href="https://x.com/seanmcdonaldxyz" target="_blank" class="text-decoration-none" style="color: var(--text-muted);">
                        <i class="fab fa-x-twitter me-1"></i> @seanmcdonaldxyz
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                const offset = 100;
                const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - offset;
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });
</script>
{% endblock %}
